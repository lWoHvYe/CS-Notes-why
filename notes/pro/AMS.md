- 与流程引擎交互的抽象（反射，简化与流程引擎的交互）
    - 内容列表包含流程信息
    - 特定流程节点的内容
    - 流程流转（主动、自动）。引入一些中间节点，将需自动的与手动的分开。
    - 与分发注入的整合
    - 一些复杂点
        - 网关类流转要传入必要条件（灵活配置），通过反射实现
        - 流程包含等待/激活、自动流转。引入一些状态，通过MQ进行事件通知。
- 内容分发模式的梳理及抽象
    - 屏蔽底层细节、降低复杂性
    - 站点、渠道、注入类型。多对多
    - 使用模板方法 + 策略模式 优化内容分发/回收相关逻辑：
        - 针对不同类型站点的，分发流程主体是相似的（校验、处理节目-站点关系、处理节目-渠道关系、创建同步指令/发工单、处理内容包相关关系），但部分地方又有一些差异性（同步方式当前有两种指令及一种工单，部分类型站点还要处理图片变更）
        - 采用模板方法定义了主体流程、公共逻辑、抽象的差分逻辑
        - 采用策略模式根据站点类型获取相关的处理子类
        - 这种较最初的通过if-else在顶层就分成不同的走向要好很多，因为存在很多公共的部分，大量重复代码。通过抽取方法来解决重复问题，也有几分的乱
    - 一些复杂点
        - 站点是操作的对象（对某一个站点出库、回收），向站点同步元数据
        - 渠道是C2注入的对象，通过工单来注入内容、介质等
        - 站点与渠道是多对多的关系。在注入时，同一渠道只注入一次，在回收时，内容在渠道关联的所有站点都不再使用时，才进行回收。
        - 注入时，需先注入基础平台，再注入站点。回收时，应先回收站点，再回收基础平台。顺序的保证及等待/激活（站点-渠道关联关系上包含顺序，通过事件来激活。同时引入组的概念，激活的是本组挂起的指令）
        - 跟播剧类，当新的一集审核入库后，需自动发到已出库的站点。（提前生成相关空指令并挂起，在入库时激活）
        - 回收站：移入回收站将做全平台回收，移出时要重新发到之前出库的平台。并且要考虑在移出时，移入的相关指令还未处理的情况（将之前的指令置为失效）
        - 内容包相关：内容包与站点多对一，有关联该站点的内容包，才能向本站点出库。
        - 通过MQ实现了等待通知这套逻辑（等待和通知方可能属于不同的服务）。针对消息被消费时，生产侧事务还未提交带来的问题，引入延迟消息。
