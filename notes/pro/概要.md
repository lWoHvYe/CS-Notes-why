## 概要

项目主要有两块，一块是IPTV侧的AMS、CMS和EPGService。另一块是小屏侧的mall-admin和mall-service

### IPTV

- AMS系统全称媒资管理系统，主要进行内容审核入库、分发/回收、版权管理、元数据管理等。在整个架构中处于CMS系统的上游，统筹各地CMS系统运营的内容。
    - 对接流程引擎，实现流程化控制
    - 通过抽象屏蔽各种分发模式底层差异，降低复杂性

- CMS系统支持针对多站点、多产品、集约化内容运营管理功能。系统向上对接内容管控平台进行内容数据接收，向下为各站点VIS系统提供用于终端展示的各类运营编排和内容数据。
    - 推荐位编排版本控制。推荐位可视化，支持发布预览
    - 统一工作台，通过视图屏蔽模型差异。SSO。

- EPG为前端用户交互系统，主要展示CMS系统的运营数据及用户交互，在整个架构中位于CMS下游。EPGService为EPG提供相关服务，主要包括资源服务、模板引擎、用户交互服务、订购鉴权服务、活动服务、用户中心服务几个模块，各服务独立部署，服务间通过HTTP及消息进行通信。
    - 资源服务重构
    - 活动服务重构
    - 用户中心重构

### Mall

- Mall-admin为管理端，负责商品及相关的管理、订单的管理等
    - 主体复杂在商品相关的分类、扩展属性、SKU等

- Mall-Service-2C为C端服务，浏览、下单等

- Mall-Service-2B为B端服务，商户订单查询、核销

### 其他

- 通过消息队列建立起来的一系列发布-订阅体系。解耦并提高灵活性、扩展性。

### 服务部署情况

六台服务器

- MasterDB、WebService、Cache、MQ 16核64G
- SlaveDB、WebService、Cache、MQ 16核64G
- SlaveDB、WebService、Cache、MQ 16核64G
- lb、WebService（测试验证） 16核32G
- lb、其他服务（探针等）16核32G
- 管理平台、数据库、缓存、MQ 16核32G
- ELK 16核32G 
